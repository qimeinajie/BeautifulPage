<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">

    <title>工单统计</title>

    

    <!--[if lt IE 8]>
    <script>
        alert('H+已不支持IE6-8，请使用谷歌、火狐等浏览器\n或360、QQ等国产浏览器的极速模式浏览本页面！');
    </script>
    <![endif]-->

    <link href="css/bootstrap.min.css?v=3.4.0" rel="stylesheet">

    <link href="css/style.min.css?v=3.2.0" rel="stylesheet">
    <style type="text/css">
        .ibox-content{
            border-style: solid solid;
            background-color: #2f4050;
            border-top: none;
        }
    </style>
</head>

<body class="fixed-sidebar full-height-layout gray-bg">
    <div id="wrapper">
        <div class="row">
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-content " style="padding: 2px;">
                        <div class="echarts" id="echarts-map" style="background-color: rgba(0, 0, 0, 0); cursor: default;height: 350px"> </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="ibox float-e-margins">  
                    <div class="ibox-content" style="padding: 2px; ">
                         <div class="row" style="background-color: #2f4050">
                            <div class="col-sm-5">
                                <div class="center" style="padding: 15px 20px 20px 20px;">
                                    <h4 style="color: #FFFFFF">今日工单</h4>
                                    <h1 style="color: #FFFFFF" class="no-margins">256</h1>
                                    <div class="stat-percent font-bold text-navy" style="color: red">38% <i class="fa fa-bolt"></i></div>
                                    <small style="color: #B1B1B1">同比</small>
                                </div>
                                <div class="center" style="padding: 15px 20px 20px 20px;">
                                    <h4 style="color: #FFFFFF">2017年累计工单</h4>
                                    <h1 style="color: #FFFFFF" class="no-margins">86,212</h1>
                                    <div class="stat-percent font-bold text-navy" style="color: green">18% <i class="fa fa-bolt"></i></div>
                                    <small style="color: #B1B1B1">同比</small>
                                </div>
                                <div class="center" style="padding: 15px 0 20px 0;">
                                   <div class="row">
                                       <div class="col-sm-4">
                                           <h5 style="color: #FFFFFF;text-align: center;">未处理</h4>
                                       </div>
                                       <div class="col-sm-4">
                                           <h5 style="color: #FFFFFF;text-align: center;">处理中</h4>
                                       </div>
                                       <div class="col-sm-4">
                                           <h5 style="color: #FFFFFF;text-align: center;">已处理</h4>
                                       </div>
                                   </div>
                                   <div class="row">
                                       <div class="col-sm-4">
                                           <h5 style="color: #FFFFFF;text-align: center;">51</h4>
                                       </div>
                                       <div class="col-sm-4">
                                           <h5 style="color: #FFFFFF;text-align: center;">25</h4>
                                       </div>
                                       <div class="col-sm-4">
                                           <h5 style="color: #FFFFFF;text-align: center;">180</h4>
                                       </div>
                                   </div>
                                </div>

                            </div>
                            <div class="col-sm-7">
                                <div class="echarts" id="echarts-info" style="background-color: rgba(0, 0, 0, 0); cursor: default;height: 350px"> </div>
                            </div>
                        </div>  
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <div class="ibox float-e-margins">
                    <div class="ibox-content" style="padding: 0;border: none">
                        <div class="row" style="background-color: #2f4050">
                            <div class="echarts" style="background-color: rgba(0, 0, 0, 0); cursor: default;height: 50px">
                                <h3 style="color: #FFFFFF;text-align: center;font-family: 微软雅黑;font-size: 18px;font-weight: bolder;">客户核心指标</h3>
                            </div>
                        </div>
                        <div class="row" style="background-color: #2f4050">
                            <div class="col-sm-4">
                                <div class="echarts" id="echarts-satisfied1" style="background-color: rgba(0, 0, 0, 0); cursor: default;height: 200px"> </div>
                            </div> 
                            <div class="col-sm-4">
                                <div class="echarts" id="echarts-satisfied2" style="background-color: rgba(0, 0, 0, 0); cursor: default;height: 200px"> </div>
                            </div> 
                            <div class="col-sm-4">
                                <div class="echarts" id="echarts-satisfied3" style="background-color: rgba(0, 0, 0, 0); cursor: default;height: 200px"> </div>
                            </div> 
                        </div>
                    </div>
                </div>
            </div>    
            <div class="col-sm-4">
                <div class="ibox float-e-margins">
                    <div class="ibox-content" style="padding: 0;border: none">
                        <div class="row" style="background-color: #2f4050">
                            <div class="echarts" id="echarts-month" style="background-color: rgba(0, 0, 0, 0); cursor: default;height: 300px"> </div>
                        </div>
                    </div>
                </div>
            </div> 
            <div class="col-sm-4">
                <div class="ibox float-e-margins">
                    <div class="ibox-content" style="padding: 0;border: none">
                        <div class="row" style="background-color: #2f4050">
                            <div class="echarts" id="echarts-project" style="background-color: rgba(0, 0, 0, 0); cursor: default;height: 300px"> </div>
                        </div>
                    </div>
                </div>
            </div>      
        </div>
    </div>

    <!-- 全局js -->
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/bootstrap.min.js?v=3.4.0"></script>
    
    <script src="js/plugins/echarts/echarts-all.js"></script>

    <script type="text/javascript">
        //地图
        var myChart = echarts.init(document.getElementById('echarts-map'));
        option = {
           backgroundColor: '#2f4050',
           color: [
                'rgba(255, 255, 255, 0.8)',
                'rgba(14, 241, 242, 0.8)',
                'rgba(37, 140, 233, 0.8)',
                'rgba(88, 112, 222, 0.8)',
                'rgba(98, 150, 221, 0.8)'
            ],
            title : {
                text: '全国工单实时情况分布',
                subtext: '工单分布图',
                x:'center',
                textStyle : {
                    color: '#fff'
                }
            },
            tooltip : {
                trigger: 'item'
            },
            dataRange: {
                min : 0,
                max : 100,
                calculable : true,
                color: ['maroon','purple','red','orange','yellow','lightgreen'],
              textStyle : {
                    color: '#fff'
                }
            },
            toolbox: {
                show : false,
                orient : 'vertical',
                x: 'right',
                y: 'center',
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
            series : [
                {
                    name: '工单',
                    type: 'map',
                    mapType: 'china',
                    hoverable: false,
                    roam:true,
                    data : [],
                    itemStyle:{
                        normal:{
                            borderColor:'rgba(100,149,237,1)',
                            borderWidth:0.5,
                            areaStyle:{
                                color: '#1b1b1b'
                            }
                        }
                     },
                    markPoint : {
                        symbolSize: 5,       // 标注大小，半宽（半径）参数，当图形为方向或菱形则总宽度为symbolSize * 2
                        itemStyle: {
                            normal: {
                                borderColor: '#87cefa',
                                borderWidth: 1,            // 标注边线线宽，单位px，默认为1
                                label: {
                                    show: false
                                }
                            },
                            emphasis: {
                                borderColor: '#1e90ff',
                                borderWidth: 5,
                                label: {
                                    show: false
                                }
                            }
                        },
                        data : [
                            {name: "云浮", value: 14},
                            {name: "梅州", value: 15},
                            {name: "厦门", value: 16},
                            {name: "汕尾", value: 16},
                            {name: "潮州", value: 26},
                            {name: "汕头", value: 32},
                            {name: "湛江", value: 33},
                            {name: "揭阳", value: 44},
                            {name: "东莞", value: 46},
                            {name: "河源", value: 56},
                            {name: "惠州", value: 57},
                            {name: "韶关", value: 68},
                            {name: "广州", value: 78},
                            {name: "清远", value: 69},
                            {name: "中山", value: 89},
                            {name: "深圳", value: 81},
                            {name: "珠海", value: 92},
                            {name: "佛山", value: 94},
                            {name: "海口", value: 4},
                            {name: "江门", value: 5},
                            {name: "肇庆", value: 6},
                            {name: "茂名", value: 60},
                            {name: "阳江", value: 57},
                            {name: "长沙", value: 75}
                        ]
                    },
                    geoCoord: {
                        "云浮":[112.02,22.93],
                        "梅州":[116.1,24.55],
                        "厦门":[118.1,24.46],
                        "汕尾":[115.375279,22.786211],
                        "潮州":[116.63,23.68],
                        "福州":[119.3,26.08],
                        "汕头":[116.69,23.39],
                        "湛江":[110.359377,21.270708],
                        "揭阳":[116.35,23.55],
                        "东莞":[113.75,23.04],
                        "河源":[114.68,23.73],
                        "惠州":[114.4,23.09],
                        "韶关":[113.62,24.84],
                        "广州":[113.23,23.16],
                        "清远":[113.01,23.7],
                        "中山":[113.38,22.52],
                        "深圳":[114.07,22.62],
                        "珠海":[113.52,22.3],
                        "佛山":[113.11,23.05],
                        "海口":[110.35,20.02],
                        "江门":[113.06,22.61],
                        "肇庆":[112.44,23.05],
                        "茂名":[110.88,21.68],
                        "阳江":[111.95,21.85],
                        "长沙":[113,28.21]
                    }
                },
                {
                    name: 'Top3',
                    type: 'map',
                    mapType: 'china',
                    data:[],
                    markPoint : {
                        symbol:'emptyCircle',
                        symbolSize : function (v){
                            return 10 + v/200
                        },
                        effect : {
                            show: true,
                            shadowBlur : 0
                        },
                        itemStyle:{
                            normal:{
                                label:{show:false}
                            }
                        },
                        data : [
                            {name: "广州", value: 20},
                            {name: "揭阳", value: 40},
                            {name: "长沙", value: 60}
                        ]
                    }
                }
            ]
        };

        myChart.setOption(option);

        //工单类型占比
        var myChart1 = echarts.init(document.getElementById('echarts-info'));
        option1 = { 
            backgroundColor: '#2f4050',
           color: [
                'rgba(255, 255, 255, 0.8)',
                'rgba(14, 241, 242, 0.8)',
                'rgba(37, 140, 233, 0.8)',
                'rgba(88, 112, 222, 0.8)',
                'rgba(98, 150, 221, 0.8)'
            ],
            title : {
                text: '工单分类',
                x:'center',
                textStyle : {
                    color: '#fff'
                }
            },
            tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            toolbox: {
                show : false
            },
            calculable : false,
            series : [
                {
                    name:'工单类型',
                    type:'pie',
                    selectedMode: 'single',
                    radius : [0, 60],
                    center: ['50%', '60%'],
                    // for funnel
                    x: '20%',
                    width: '35%',
                    funnelAlign: 'right',
                    max: 1548,
                    itemStyle : {
                        normal : {
                            label : {
                                position : 'inner'
                            },
                            labelLine : {
                                show : false
                            }
                        }
                    },
                    data:[
                        {value:335, name:'其他'},
                        {value:679, name:'照明'},
                        {value:1548, name:'常规', selected:true}
                    ]
                },
                {
                    name:'所属专业',
                    type:'pie',
                    radius : [90, 130],
                    
                    // for funnel
                    x: '60%',
                    width: '30%',
                    funnelAlign: 'left',
                    max: 1200,
                    center: ['50%', '60%'],
                    data:[
                        {value:900, name:'安装'},
                        {value:1200, name:'弱电'},
                        {value:600, name:'供配电'},
                        {value:500, name:'空调'},
                        {value:50, name:'给排水'},
                        {value:251, name:'消防'},
                        {value:200, name:'电梯'}
                    ]
                }
            ]
        };
        
        myChart1.setOption(option1);

        //客户满意度
        var myChart_satisfied1 = echarts.init(document.getElementById('echarts-satisfied1'));
        option_satisfied1 = {
            title: {
                text: '满意度',
                subtext: '80%',
                x: 'center',
                y: 'center',
                textStyle : {
                    color : 'rgba(30,144,255,0.8)',
                    fontFamily : '微软雅黑',
                    fontSize : 14,
                    fontWeight : 'bolder'
                }
            },
            color: [
                'rgba(255, 255, 255, 0.8)',
                'rgba(14, 241, 242, 0.8)',
                'rgba(37, 140, 233, 0.8)',
                'rgba(88, 112, 222, 0.8)',
                'rgba(98, 150, 221, 0.8)'
            ],
            series : [
                {
                    name:'1',
                    type:'pie',
                    clockWise:false,
                    radius : [40, 48],
                     itemStyle : {
                        normal : {
                            label : {
                                show : false
                            },
                            labelLine : {
                                show : false
                            }
                        }
                    },
                    data:[
                        {
                            value:70,
                            name:'满意'
                        },
                        {
                            value:15,
                            name:'满意度'
                        }
                    ]
                }
            ]
        };
        myChart_satisfied1.setOption(option_satisfied1);
        //相应及时率
        var myChart_satisfied2 = echarts.init(document.getElementById('echarts-satisfied2'));
        option_satisfied2 = {
            title: {
                text: '相应及时率',
                subtext: '65%',
                x: 'center',
                y: 'center',
                textStyle : {
                    color : 'rgba(30,144,255,0.8)',
                    fontFamily : '微软雅黑',
                    fontSize : 14,
                    fontWeight : 'bolder'
                }
            },
            color: [
                'rgba(255, 255, 255, 0.8)',
                'rgba(14, 241, 242, 0.8)',
                'rgba(37, 140, 233, 0.8)',
                'rgba(88, 112, 222, 0.8)',
                'rgba(98, 150, 221, 0.8)'
            ],
            series : [
                {
                    name:'1',
                    type:'pie',
                    clockWise:false,
                    radius : [40, 48],
                     itemStyle : {
                        normal : {
                            label : {
                                show : false
                            },
                            labelLine : {
                                show : false
                            }
                        }
                    },
                    data:[
                        {
                            value:60,
                            name:'及时'
                        },
                        {
                            value:40,
                            name:'不及时'
                        }
                    ]
                }
            ]
        };
        myChart_satisfied2.setOption(option_satisfied2);  
        //相应关闭率
        var myChart_satisfied3 = echarts.init(document.getElementById('echarts-satisfied3'));
        option_satisfied3 = {
            title: {
                text: '关闭率',
                subtext: '65%',
                x: 'center',
                y: 'center',
                textStyle : {
                    color : 'rgba(30,144,255,0.8)',
                    fontFamily : '微软雅黑',
                    fontSize : 14,
                    fontWeight : 'bolder'
                }
            },
            color: [
                'rgba(255, 255, 255, 0.8)',
                'rgba(14, 241, 242, 0.8)',
                'rgba(37, 140, 233, 0.8)',
                'rgba(88, 112, 222, 0.8)',
                'rgba(98, 150, 221, 0.8)'
            ],
            series : [
                {
                    name:'1',
                    type:'pie',
                    clockWise:false,
                    radius : [40, 48],
                     itemStyle : {
                        normal : {
                            label : {
                                show : false
                            },
                            labelLine : {
                                show : false
                            }
                        }
                    },
                    data:[
                        {
                            value:20,
                            name:'关闭'
                        },
                        {
                            value:80,
                            name:'不关闭'
                        }
                    ]
                }
            ]
        };
        myChart_satisfied3.setOption(option_satisfied3);          

        //工单柱状图
        var myChart_month = echarts.init(document.getElementById('echarts-month'));
        option_month = {
            color: [
                'rgba(255, 255, 255, 0.8)',
                'rgba(14, 241, 242, 0.8)',
                'rgba(37, 140, 233, 0.8)',
                'rgba(88, 112, 222, 0.8)',
                'rgba(98, 150, 221, 0.8)'
            ],
            title : {
                text: '每月工单数及满意数',
                x:'center',
                textStyle : {
                    color: '#fff'
                }
            },
            tooltip : {
                trigger: 'axis'
            },
            xAxis : [
                {
                    type : 'category',
                    splitLine:{ 
                         show:false
                      },
                      axisLabel: {
                    textStyle: {
                        color: '#FFFFFF'
                    }
                  },
                    data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月']
                }
            ],
            yAxis : [
                {
                    type : 'value',
                   splitLine:{ 
                         show:false
                      },
                  axisLabel: {
                    textStyle: {
                        color: '#FFFFFF'
                    }
                  }
                }
            ],
            series : [
                
                {
                    name:'工单数',
                    type:'bar',
                    data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8]
                },
              {
                    name:'工单满意数',
                    type:'line',
                    data:[2.0, 4.9, 7.0, 23.2, 25.6, 66.7, 135.6, 162.2, 32.6, 10.0]
                }
            ]
        };
        myChart_month.setOption(option_month);  


        //工单金字塔图
        var myChart_project = echarts.init(document.getElementById('echarts-project'));
        option_project = {
            color: [
                'rgba(255, 255, 255, 0.8)',
                'rgba(14, 241, 242, 0.8)',
                'rgba(37, 140, 233, 0.8)',
                'rgba(88, 112, 222, 0.8)',
                'rgba(98, 150, 221, 0.8)'
            ],
            title : {
                text: 'TOP5',
                subtext: '工单数及满意度排行',
                x:'center',
                textStyle : {
                    color: '#fff'
                }
            },
            calculable : true,
            series : [
                {
                    name:'漏斗图',
                    type:'funnel',
                    width: '35%',
                    itemStyle: {
                        normal: {
                            // color: 各异,
                            label: {
                                position: 'left'
                            }
                        }
                    },
                    data:[
                        {value:60, name:'平云广场'},
                        {value:40, name:'电力设计院'},
                        {value:20, name:'金海大厦'},
                        {value:80, name:'档案馆'},
                        {value:100, name:'规划展览馆'}
                    ]
                },
                {
                    name:'金字塔',
                    type:'funnel',
                    x : '45%',
                    width: '35%',
                    sort : 'ascending',
                    itemStyle: {
                        normal: {
                            // color: 各异,
                            label: {
                                position: 'right'
                            }
                        }
                    },
                    data:[
                        {value:60, name:'电力设计院'},
                        {value:40, name:'规划展览馆'},
                        {value:20, name:'平云广场'},
                        {value:80, name:'档案馆'},
                        {value:100, name:'金海大厦'}
                    ]
                }
            ]
        };     
        myChart_project.setOption(option_project);                               
    </script>
</body>

</html>